"use strict";$(document).ready(function(){$("#webinar-registration-form").length&&function(){var e={$loader:$("#ndx-loader"),$message:$("#responseMessage"),$firstName:$("#webinarFirstName"),$lastName:$("#webinarLastName"),$email:$("#webinarEmail"),endpoint:$("#webinar-registration-form").attr("data-endpoint"),isWorking:!1,correct:!0,params:{webinar:$("#webinarId").val()},run:function(){return!this.isWorking&&(this.isWorking=!0,this.correct=!0,$(".webinar-reg__form__input-text").removeClass("border-red"),this.validate(),this.correct?(this.showLoader(),this.showSuccessMessage("One moment. Your reservation is being confirmed."),this.setParams(),void this.sendProspect()):(this.showErrorMessage("Please fill in all fields correctly."),this.isWorking=!1,!1))},showLoader:function(){this.$loader.removeClass("hide")},hideLoader:function(){this.$loader.addClass("hide")},showSuccessMessage:function(e){this.$message.css("color","mediumseagreen").html(e).slideDown(200)},showErrorMessage:function(e){this.$message.css("color","red").html(e).slideDown(200)},validate:function(){""==this.$firstName.val()&&(this.$firstName.addClass("border-red"),this.correct=!1),""==this.$lastName.val()&&(this.$lastName.addClass("border-red"),this.correct=!1),""!=this.$email.val()&&validateEmail(this.$email.val())||(this.$email.addClass("border-red"),this.correct=!1)},setParams:function(){var e=$("#webinar-title").attr("data-webinartitle");e=e.length>60?e.substring(0,60)+"...":e,this.params.leadSource=e,this.params.firstName=this.$firstName.val(),this.params.lastName=this.$lastName.val(),this.params.email=this.$email.val();var t=new URL(location.href);t.searchParams.get("QPID")&&(this.params.prospectQpid=t.searchParams.get("QPID")),t.searchParams.get("CHID")&&(this.params.prospectChid=t.searchParams.get("CHID"))},successCallback:function(){var e=this;this.showSuccessMessage("Thank you for registering! Check your email for confirmation."),this.webinarRegistrationTracking(),setTimeout(function(){e.$message.addClass("margin-top")},200),$(".webinar-reg__button-wrapper, .webinar-reg__disclaimer").slideUp(200)},errorCallback:function(){this.showErrorMessage("Oops! Something went wrong. Please contact our customer service."),this.hideLoader(),this.isWorking=!1},sendProspect:function(){var e=this;$.post(e.endpoint,e.params).done(function(t){e.successCallback(t)}).fail(function(t){e.errorCallback(t)})},webinarRegistrationTracking:function(){s.eVar54="Webinar",s.events="event85",nadex.marketing.analytics.tracking.triggerSiteCat()}};$("#sendBtn").click(function(){e.run();var t=document.querySelector("#webinar-title");google360.sendEvent({event:"webinar_registration",event_category:"Nadex Learning",event_action:"webinar registration",event_label:t.getAttribute("data-webinartitle"),event_value:undefined,webinar_date:t.getAttribute("data-date"),webinar_time:t.getAttribute("data-time"),webinar_title:t.getAttribute("data-webinartitle"),webinar_duration:t.getAttribute("data-duration")})})}()});